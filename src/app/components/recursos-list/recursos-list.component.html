<p-toast></p-toast>
<div class="flex align-items-center justify-content-between mb-3">
  <h2 class="m-0">Recursos</h2>
  <div class="flex align-items-center gap-2">
    <p-autoComplete
      [suggestions]="tipoOptions"
      placeholder="Filtrar por tipo"
      [(ngModel)]="tipoSeleccionado"
      optionLabel="label"
      optionValue="value"
      (onChange)="cargarRecursos()"
      [dropdown]="true"
      [showClear]="true"
    ></p-autoComplete>
    <button pButton type="button" icon="pi pi-refresh" class="p-button-text" (click)="cargarRecursos()">
      Refrescar
    </button>
  </div>
</div>

<div class="grid">
  <div class="col-12 md:col-4" *ngFor="let recurso of recursos()">
    <p-card class="h-full flex flex-column" [header]="recurso.nombre" [subheader]="recurso.tipo">
      <p class="mb-3">{{ recurso.descripcion || 'Sin descripci√≥n' }}</p>
      <div class="flex align-items-center justify-content-between mt-auto">
        <p-tag [severity]="recurso.activo ? 'success' : 'danger'">
          {{ recurso.activo ? 'Activo' : 'Inactivo' }}
        </p-tag>
        <a pButton type="button" [routerLink]="['/recursos', recurso.id]">Ver</a>
      </div>
    </p-card>
  </div>
</div>
